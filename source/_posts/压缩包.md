---
title: 【笔记】压缩包
date: 2019-11-13 23:57:08
tags:
categories:
- Linux
---

## 前言

在 Linux 系统下，常见压缩包的压缩与解压方法。

<!-- more -->

## Tar

- tar是Unix和类Unix系统上的归档打包工具，可以将多个文件合并为一个文件，打包后的文件名亦为`tar`。目前，tar文件格式已经成为POSIX标准，最初是POSIX.1-1988，目前是POSIX.1-2001。[维基百科](https://zh.wikipedia.org/wiki/Tar)

### 基本参数

- 建立新的备份文件

> `-c`
>`--create`

- 从备份文件中还原文件

> `-x`
> `--extract`
> `--get`

- 显示指令执行过程

> `-v`
> `--verbose`

- 指定备份文件
- 必须放在所有选项之后，因为这个选项后面要加参数

> `-f <file>`
> `--file <file>`

- 显示归档中的文件清单

> `-t`

- 指定解压路径

> `-C <file>`

- 通过`gzip`指令压缩/解压缩文件，文件名最好为`*.tar.gz`

Gzip是一种压缩文件格式并且也是一个在类 Unix 上的一种文件解压缩的软件，通常指GNU计划的实现，此处的gzip代表GNU zip。也经常用来表示gzip这种文件格式。软件的作者是Jean-loup Gailly和Mark Adler。在1992年10月31日第一次公开发布，版本号0.1，1993年2月，发布了1.0版本。[维基百科](https://zh.wikipedia.org/wiki/Gzip)

> `-z`
> `--gzip`
> `--ungzip`

- 通过`compress`指令处理备份文件

Linux compress命令是一个相当古老的 unix 档案压缩指令，压缩后的档案会加上一个 .Z 延伸档名以区别未压缩的档案，压缩后的档案可以以 uncompress 解压。若要将数个档案压成一个压缩档，必须先将档案 tar 起来再压缩。由于 gzip 可以产生更理想的压缩比例，一般人多已改用 gzip 为档案压缩工具。[菜鸟笔记](https://www.runoob.com/linux/linux-comm-compress.html)

> `-Z`
> `--compress`
> `--uncompress`

- 通过`bzip2`指令压缩/解压缩文件，文件名最好为`*.tar.bz2`

bzip2是Julian Seward开发并按照自由软件／开源软件协议发布的数据压缩算法及程序。Seward在1996年7月第一次公开发布了bzip2 0.15版，在随后几年中这个压缩工具稳定性得到改善并且日渐流行，Seward在2000年晚些时候发布了1.0版。[维基百科](https://zh.wikipedia.org/wiki/Bzip2)

> `-j`

- 通过`xz`指令压缩/解压缩文件

xz是一个使用LZMA/LZMA2压缩算法的无损数据压缩文件格式。[维基百科](https://zh.wikipedia.org/wiki/Xz)

> `-J`

### 基本命令

> `<file_name>`：需要压缩/解压的文件或目录名
> `<new_file_name>`：新创建的压缩文件目录及文件名
> `<new_file_directory>`：新创建的压缩文件存放目录

#### .tar

- 压缩文件为`.tar`

``` bash
tar -cvf <new_file_name>.tar <file_name>
```

- 解压`.tar`文件

``` bash
tar -xvf <file_name>.tar
```

#### .tar.gz

- 压缩文件为`.tar.gz`

``` bash
tar -czvf <new_file_name>.tar.gz <file_name>
```

- 解压`.tar.gz`文件

``` bash
tar -xzvf <file_name>.tar.gz
```

#### .tar.bz2

- 压缩文件为`.tar.bz2`

``` bash
tar -cjvf <new_file_name>.tar.bz2 <file_name>
```

- 解压`.tar.bz2`文件

``` bash
tar -xjvf <file_name>.tar.bz2
```

#### .tar.Z

- 压缩文件为`.tar.Z`

``` bash
tar -cZvf <new_file_name>.tar.Z <file_name>
```

- 解压`.tar.Z`文件

``` bash
tar -xZvf <file_name>.tar.Z
```

#### .tar.xz

- 压缩文件为`.tar.xz`（一步压缩）

``` bash
tar -cJvf <new_file_name>.tar.xz <file_name>
```

- 压缩文件为`.tar.xz`（两步压缩）

``` bash
tar -cvf <new_file_name>.tar <file_name>
xz -z <new_file_name>.tar
```

- 解压`.tar.xz`文件（一步解压）

``` bash
tar -xJvf <file_name>.tar.xz
```

- 解压`.tar.xz`文件（两步解压）

``` bash
xz -d <file_name>.tar.xz
tar -xvf <file_name>.tar.xz
```

## Zip

ZIP文件格式是一种数据压缩和文档储存的文件格式，原名Deflate，发明者为菲尔·卡茨，他于1989年1月公布了该格式的资料。ZIP通常使用后缀名“.zip”，它的MIME格式为application/zip。[维基百科](https://zh.wikipedia.org/wiki/ZIP格式)

### 安装

- MacOS

``` bash
brew install zip
brew install unzip
```

### 基本参数

> `-n`：解压缩时不覆盖原有的文件
> `-o`：解压缩时覆盖原有的文件
> `-d`：指定文件解压后存储的目录
> `-v`：显示详细信息
> `-r`：递归操作

### 压缩

- 压缩文件为`.zip`

``` bash
zip -r <new_file_name>.zip <file_name>
```

### 解压

- 解压`.zip`文件在当前目录下

``` bash
unzip <file_name>.zip
```

- 解压`.zip`文件在指定目录下，如有重名不覆盖

``` bash
unzip -n <file_name>.zip -d <new_file_directory>
```

- 解压`.zip`文件在指定目录下，如有重名则覆盖

``` bash
unzip -o <file_name>.zip -d <new_file_directory>
```

## Rar

RAR是一种专利文件格式，用于数据压缩与归档打包，开发者为尤金·罗谢尔，RAR的全名是"Roshal ARchive"，即"罗谢尔的归档"之意。首个公开版本RAR 1.3发布于1993年。[维基百科](https://zh.wikipedia.org/wiki/RAR)

### 安装

- MacOS

``` bash
brew cask install rar
brew install unrar
```

### 基本参数

> `-a`：添加文件到压缩档案
> `-e`：将文件解压到当前目录
> `-x`：使用完整路径提取文件
> `-l`：列出存档内容
> `-v`：详细列出存档

### 压缩

- 压缩文件为`.rar`

``` bash
rar a <new_file_name>.rar <file_name>
```

### 解压

- 解压`.rar`文件到当前目录，并解压完成路径

``` bash
unrar -x <file_name>.rar
```

## 7z

在计算机科学中，7z是一种可以使用多种压缩算法进行数据压缩的文件格式。该格式最初被7-Zip实现并采用，但是这种文件格式是公有的，并且7-Zip软件本身亦在GNU宽通用公共许可证协议下开放源代码。当前LZMA软件开发工具包的最新版本为v19.00。[维基百科](https://zh.wikipedia.org/wiki/7z)

### 安装

- Linux

``` bash
sudo apt-get install p7zip
```

- MacOS

``` bash
brew install p7zip
```

### 基本参数

> `-a`：添加文件／文件夹到压缩包
> `-t`：指定压缩类型，默认压缩类型就是7z
> `-x`：解压到当前目录
> `-e`：解压到根目录
> `-o`：指定解压到的目录
> `-r`：递归操作

### 压缩

- 压缩文件为`.7z`

``` bash
7za -a -r <new_file_name>.7z <file_name>
```

### 解压

- 解压`.7z`文件

``` bash
7za -x -r <file_name>.7z -o.<new_file_directory>
```

## 参考文献

[开源中国](https://wangchujiang.com/linux-command/c/tar.html)
[CSDN——一个从入门到放弃再到改行的工程师](https://blog.csdn.net/iot_song/article/details/80169662)
[菜鸟教程](https://www.runoob.com/linux/linux-comm-tar.html)
[CSDN——Locutus](https://blog.csdn.net/yjk13703623757/article/details/79848878)
[REILLET的博客](http://velep.com/archives/389.html)
[CSDN——霸王凯旋](https://blog.csdn.net/lyliyongblue/article/details/48519261)

