---
title: 【笔记】反射学习笔记
categories:
  - Java
date: 2020-05-21 10:28:01
---

## 前言

反射学习笔记

<!-- more -->

## 创建运行时类对象

### 通过类的class属性

``` java
Class class = Persion.class;
```

### 通过类的getClass()方法

``` java
Class class = persion.getClass();
```

### 通过Class类的forName()方法

> `<class_name>`：类的全称

``` java
Class class = Class.forName("<class_name>");
```

### 创建对象

``` java
Persion persion = (Persion) class.newInstance();
```

## 获取类名

### 获取类的全名

``` java
class.getName();
class.getCanonicalName();
```

### 获取类的简称

``` java
class.getSimpleName();
```

## 访问属性

### 获取公有属性

> `<attribute_name>`：属性名

``` java
Field field = class.getField("<attribute_name>");
```

### 获取类的私有属性

``` java
Field field = class.getDeclaredField("<attribute_name>");
```

### 修改属性值

> `<value>`：修改后的属性值

``` java
field.set(persion, <value>);
```

### 是否有访问权限

``` java
field.isAccessible();
```

### 修改访问权限

- 私有属性授权后才可以修改属性值和调用方法

> `<boolean>`：true为授权，false为不授权

``` java
field.setAccessible(<boolean>);
```

### 获取所有属性

``` java
Field[] field = class.getDeclaredFields();
```

## 访问方法

### 获取公共方法

> `<method_name>`：方法名
> `<types>`：参数类型，没有就不写，多个参数需要按照顺序写

``` java
Method method = class.getMethod(<method_name>);
Method method = class.getMethod(<method_name>, <types>);
```

### 获取私有方法

``` java
class.getDeclaredMethod();
```

### 获取方法名

``` java
method.getName();
```

### 调用方法

``` java
method.invoke(persion);
method.invoke(persion, <types>);
```

#### 举例

- 如果参数列表为两个int类型参数

``` java
Method method = class.getMethod("<method_name>", int.class, int.calss);
method.invoke(persion, 8, 5, 7);
```

## 未完待更

## 参考文献

达内教育

