---
title: 【笔记】搭建一个云盘网站
categories:
  - 云计算
date: 2020-04-20 15:20:51
---

## 前言

Nextcloud Hub is the first completely integrated on-premises content collaboration platform on the market, ready for a new generation of users who expect seamless online collaboration capabilities out of the box.（[Nextcloud官网](https://nextcloud.com)）

快速搭建一个云盘网站

<!-- more -->

## 准备工作

- [Nextcloud项目包](https://download.nextcloud.com/server/releases/nextcloud-18.0.3.zip)

- CentOS服务器

## 环境准备

### 安装unzip

``` sh
yum install unzip
```

### 安装dnf

``` sh
yum install dnf
dnf update -y
```

### 安装apache

``` sh
dnf install -y httpd
```

### 启动apache

``` sh
systemctl enable httpd.service
systemctl start httpd.service
```

### 安装php

``` sh
yum -y install php72w php72w-cli php72w-fpm php72w-common php72w-devel php72w-embedded php72w-gd php72w-mbstring php72w-mysqlnd php72w-opcache php72w-pdo php72w-xml
```

### 启动php

``` sh
systemctl enable php-fpm.service
systemctl start php-fpm.service
```

### 安装数据库

``` sh
dnf install -y mariadb mariadb-server
```

### 启动数据库

``` sh
systemctl enable mariadb.service
systemctl start mariadb.service
```

### 初始化数据库

- 设置数据库密码

``` sh
mysql_secure_installation
```

## 搭建网站

### 下载项目包

- 将项目包下载到本地，然后发送到服务器

``` sh
scp /Users/hatsunemiku/Downloads/nextcloud-18.0.3.zip  root@47.104.12.47:/root/nextcloud-18.0.3.zip
```

### 解压项目包

``` sh
unzip nextcloud-*.zip
```

### 移动到站点文件夹

``` sh
cp -R nextcloud/ /var/www/html/
```

### 创建缓存目录

``` sh
mkdir /var/www/html/nextcloud/data
```

### 设置权限

``` sh
chown -R apache:apache /var/www/html/nextcloud
```

### 重启服务

``` sh
systemctl restart httpd.service
```

## 初始化网站

- 创建管理员用户名、管理员密码

- `存储与数据库`->将数据库切换为`MySQL/MariaDB`->配置数据库参数

## 完成

![01.png](/images/20200420152051/01.png)

## 参考文献

[微信公众号——暗网黑客](http://weixin.qq.com/r/Aji6v5jEjlDyKNzcb22G)
[Linux公社](https://www.linuxidc.com/Linux/2019-07/159197.htm)

