<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>绯鞠的博客</title>
    <link>https://feiju12138.github.io/</link>
    
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>捕捉一只爱折腾的绯鞠</description>
    <pubDate>Tue, 13 Oct 2020 01:15:00 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>【笔记】Windows10家庭版安装Sandbox</title>
      <link>https://feiju12138.github.io/2020/10/13/Windows10%E5%AE%B6%E5%BA%AD%E7%89%88%E5%AE%89%E8%A3%85Sandbox/</link>
      <guid>https://feiju12138.github.io/2020/10/13/Windows10%E5%AE%B6%E5%BA%AD%E7%89%88%E5%AE%89%E8%A3%85Sandbox/</guid>
      <pubDate>Tue, 13 Oct 2020 01:12:39 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;沙盒（英语：sandbox，又译为沙箱）是一种安全机制，为运行中的程序提供的隔离环境。通常是作为一些来源不可信、具破坏力或无法判定程序意图的程序提供实验之用。（&lt;a href=&quot;https://zh.wikipedia.org/wiki/沙盒_(電腦安全)&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;维基百科&lt;/a&gt;）&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>沙盒（英语：sandbox，又译为沙箱）是一种安全机制，为运行中的程序提供的隔离环境。通常是作为一些来源不可信、具破坏力或无法判定程序意图的程序提供实验之用。（<a href="https://zh.wikipedia.org/wiki/沙盒_(電腦安全)" target="_blank" rel="noopener">维基百科</a>）</p><a id="more"></a><h2 id="开启沙盒"><a href="#开启沙盒" class="headerlink" title="开启沙盒"></a>开启沙盒</h2><ul><li>创建<code>.bat</code>文件，编辑内容</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Checking <span class="keyword">for</span> permissions</span><br><span class="line">&gt;nul 2&gt;&amp;1 <span class="string">"%SYSTEMROOT%\system32\cacls.exe"</span> <span class="string">"%SYSTEMROOT%\system32\config\system"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Permission check result: %errorlevel%</span><br><span class="line"></span><br><span class="line">REM --&gt; If error flag <span class="built_in">set</span>, we <span class="keyword">do</span> not have admin.</span><br><span class="line"><span class="keyword">if</span> <span class="string">'%errorlevel%'</span> NEQ <span class="string">'0'</span> (</span><br><span class="line"><span class="built_in">echo</span> Requesting administrative privileges...</span><br><span class="line">goto UACPrompt</span><br><span class="line">) <span class="keyword">else</span> ( goto gotAdmin )</span><br><span class="line"></span><br><span class="line">:UACPrompt</span><br><span class="line"><span class="built_in">echo</span> Set UAC = CreateObject^(<span class="string">"Shell.Application"</span>^) &gt; <span class="string">"%temp%\getadmin.vbs"</span></span><br><span class="line"><span class="built_in">echo</span> UAC.ShellExecute <span class="string">"%~s0"</span>, <span class="string">""</span>, <span class="string">""</span>, <span class="string">"runas"</span>, 1 &gt;&gt; <span class="string">"%temp%\getadmin.vbs"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Running created temporary <span class="string">"%temp%\getadmin.vbs"</span></span><br><span class="line">timeout /T 2</span><br><span class="line"><span class="string">"%temp%\getadmin.vbs"</span></span><br><span class="line"><span class="built_in">exit</span> /B</span><br><span class="line"></span><br><span class="line">:gotAdmin</span><br><span class="line"><span class="keyword">if</span> exist <span class="string">"%temp%\getadmin.vbs"</span> ( del <span class="string">"%temp%\getadmin.vbs"</span> )</span><br><span class="line"><span class="built_in">pushd</span> <span class="string">"%CD%"</span></span><br><span class="line">CD /D <span class="string">"%~dp0"</span> </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Batch was successfully started with admin privileges</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">cls</span><br><span class="line">Title Sandbox Installer</span><br><span class="line"></span><br><span class="line"><span class="built_in">pushd</span> <span class="string">"%~dp0"</span></span><br><span class="line"></span><br><span class="line">dir /b %SystemRoot%\servicing\Packages\*Containers*.mum &gt;sandbox.txt</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f %%i <span class="keyword">in</span> (<span class="string">'findstr /i . sandbox.txt 2^&gt;nul'</span>) <span class="keyword">do</span> dism /online /norestart /add-package:<span class="string">"%SystemRoot%\servicing\Packages\%%i"</span></span><br><span class="line"></span><br><span class="line">del sandbox.txt</span><br><span class="line"></span><br><span class="line">Dism /online /<span class="built_in">enable</span>-feature /featurename:Containers-DisposableClientVM /LimitAccess /ALL</span><br><span class="line"></span><br><span class="line">pause</span><br></pre></td></tr></table></figure><ul><li>以管理员方式运行</li></ul><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="https://www.jianshu.com/p/38455f38e452" target="_blank" rel="noopener">间书——RogerYong</a></p>]]></content:encoded>
      
      <comments>https://feiju12138.github.io/2020/10/13/Windows10%E5%AE%B6%E5%BA%AD%E7%89%88%E5%AE%89%E8%A3%85Sandbox/#disqus_thread</comments>
    </item>
    
    <item>
      <title>【笔记】OWASP Broken Web Application Project 学习笔记</title>
      <link>https://feiju12138.github.io/2020/10/12/OWASPBrokenWebApplicationProject%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
      <guid>https://feiju12138.github.io/2020/10/12/OWASPBrokenWebApplicationProject%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Mon, 12 Oct 2020 11:18:31 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;Open Web Application Security Project (OWASP) Broken Web Applications Project, a collection of vulnerable web applications that is distributed on a Virtual Machine in VMware format compatible with their no-cost and commercial VMware products.（&lt;a href=&quot;https://sourceforge.net/projects/owaspbwa/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;软件托管网站的介绍&lt;/a&gt;）&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Open Web Application Security Project (OWASP) Broken Web Applications Project, a collection of vulnerable web applications that is distributed on a Virtual Machine in VMware format compatible with their no-cost and commercial VMware products.（<a href="https://sourceforge.net/projects/owaspbwa/" target="_blank" rel="noopener">软件托管网站的介绍</a>）</p><a id="more"></a><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>开放式Web应用程序安全项目（OWASP）是一个在线社区，在Web应用安全领域提供免费的文章，方法，文档，工具和技术。（<a href="https://zh.wikipedia.org/wiki/OWASP" target="_blank" rel="noopener">维基百科</a>）</p><h2 id="官网地址"><a href="#官网地址" class="headerlink" title="官网地址"></a>官网地址</h2><p><a href="https://owasp.org" target="_blank" rel="noopener">官方网站</a><br><a href="http://www.owasp.org.cn/" target="_blank" rel="noopener">中国官方网站</a></p><h2 id="虚拟机下载地址"><a href="#虚拟机下载地址" class="headerlink" title="虚拟机下载地址"></a>虚拟机下载地址</h2><p><a href="https://sourceforge.net/projects/owaspbwa/files/" target="_blank" rel="noopener">https://sourceforge.net/projects/owaspbwa/files/</a></p><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="https://blog.csdn.net/weixin_43583637/article/details/94627052" target="_blank" rel="noopener">CSDN——冠霖L</a></p>]]></content:encoded>
      
      <comments>https://feiju12138.github.io/2020/10/12/OWASPBrokenWebApplicationProject%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
    </item>
    
    <item>
      <title>【笔记】jEnv学习笔记</title>
      <link>https://feiju12138.github.io/2020/10/11/jEnv%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
      <guid>https://feiju12138.github.io/2020/10/11/jEnv%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Sun, 11 Oct 2020 06:48:05 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;jEnv is a command line tool to help you forget how to set the JAVA_HOME environment variable（&lt;a href=&quot;https://www.jenv.be&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;官网&lt;/a&gt;）&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>jEnv is a command line tool to help you forget how to set the JAVA_HOME environment variable（<a href="https://www.jenv.be" target="_blank" rel="noopener">官网</a>）</p><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install jenv</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul><li>编辑<code>.bash_profile</code>文件</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bash_profile</span><br></pre></td></tr></table></figure><ul><li>修改<code>.bash_profile</code>文件</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(jenv init -)</span>"</span></span><br></pre></td></tr></table></figure><h2 id="为jenv添加jdk配置"><a href="#为jenv添加jdk配置" class="headerlink" title="为jenv添加jdk配置"></a>为jenv添加jdk配置</h2><blockquote><p><code>&lt;jdk&gt;</code>：已安装jdk的绝对路径</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenv add &lt;jdk&gt;</span><br></pre></td></tr></table></figure><h3 id="查看已安装的jdk"><a href="#查看已安装的jdk" class="headerlink" title="查看已安装的jdk"></a>查看已安装的jdk</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /Library/Java/JavaVirtualMachines</span><br></pre></td></tr></table></figure><h2 id="查看当前使用的jdk版本"><a href="#查看当前使用的jdk版本" class="headerlink" title="查看当前使用的jdk版本"></a>查看当前使用的jdk版本</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenv versions</span><br></pre></td></tr></table></figure><h2 id="切换当前使用的jdk版本"><a href="#切换当前使用的jdk版本" class="headerlink" title="切换当前使用的jdk版本"></a>切换当前使用的jdk版本</h2><blockquote><p><code>&lt;version&gt;</code>：已配置到jenv的jdk版本</p></blockquote><blockquote><p><code>global</code>：全局配置<br><code>local</code>：本地配置<br><code>shell</code>：终端配置</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenv global &lt;version&gt;</span><br></pre></td></tr></table></figure><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="https://blog.csdn.net/sweatOtt/article/details/89953162" target="_blank" rel="noopener">CSDN——<em>laomei</em></a></p>]]></content:encoded>
      
      <comments>https://feiju12138.github.io/2020/10/11/jEnv%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
    </item>
    
    <item>
      <title>【笔记】编译JDK源码</title>
      <link>https://feiju12138.github.io/2020/10/11/%E7%BC%96%E8%AF%91JDK%E6%BA%90%E7%A0%81/</link>
      <guid>https://feiju12138.github.io/2020/10/11/%E7%BC%96%E8%AF%91JDK%E6%BA%90%E7%A0%81/</guid>
      <pubDate>Sun, 11 Oct 2020 06:08:03 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;用Openjdk11编译Openjdk11&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>用Openjdk11编译Openjdk11</p><a id="more"></a><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li>MacOS操作系统</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">archey</span><br></pre></td></tr></table></figure><ul><li>clang</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang --version</span><br></pre></td></tr></table></figure><ul><li>clang++</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang++ --version</span><br></pre></td></tr></table></figure><ul><li>autoconf</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">autoconf --version</span><br></pre></td></tr></table></figure><ul><li>make</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make --version</span><br></pre></td></tr></table></figure><ul><li>freetype</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">freetype-config --ftversion</span><br></pre></td></tr></table></figure><ul><li>mercurial</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hg --version</span><br></pre></td></tr></table></figure><ul><li>java</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><h2 id="下载源码包"><a href="#下载源码包" class="headerlink" title="下载源码包"></a>下载源码包</h2><h3 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h3><ul><li>从代码托管仓库下载</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hg <span class="built_in">clone</span> http://hg.openjdk.java.net/jdk/jdk11/</span><br></pre></td></tr></table></figure><h3 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h3><ul><li><p>直接下载打包好的源码包</p></li><li><p><a href="https://jdk.java.net" target="_blank" rel="noopener">https://jdk.java.net</a></p></li></ul><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><ul><li><p>解压后终端进入到源码包根目录</p></li><li><p>自动配置</p></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh configure</span><br></pre></td></tr></table></figure><ul><li>编译</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make all</span><br></pre></td></tr></table></figure><h3 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h3><ul><li>报错：<code>(Your Boot JDK version must be one of: 10 11)</code></li></ul><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><ul><li>jdk版本过低</li></ul><h4 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>更换对应版本的jdk</li></ul><h3 id="踩坑-1"><a href="#踩坑-1" class="headerlink" title="踩坑"></a>踩坑</h3><ul><li>报错：<code>警告: [path] 错误的路径元素 &quot;/usr/local/Cellar/openjdk@11/11.0.8/lib/tools.jar&quot;: 没有这种文件或目</code></li></ul><h4 id="原因-1"><a href="#原因-1" class="headerlink" title="原因"></a>原因</h4><ul><li>jdk9以后没有<code>tools.jar</code>和<code>dt.jar</code></li></ul><h4 id="解决问题-1"><a href="#解决问题-1" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>把<code>jdk8/lib/tools.jar</code>和<code>jdk8/lib/dt.jar</code>文件拷贝到<code>jdk11/lib</code>目录下</li></ul><h3 id="踩坑-2"><a href="#踩坑-2" class="headerlink" title="踩坑"></a>踩坑</h3><ul><li>报错：<code>if (old_java_vendor_url_bug != DEFAULT_VENDOR_URL_BUG) {</code></li></ul><h4 id="原因-2"><a href="#原因-2" class="headerlink" title="原因"></a>原因</h4><ul><li>源码BUG</li></ul><h4 id="解决问题-2"><a href="#解决问题-2" class="headerlink" title="解决问题"></a>解决问题</h4><ol><li>编辑源码</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim src/hotspot/share/runtime/arguments.cpp</span><br></pre></td></tr></table></figure><ul><li>搜索<code>if (old_java_vendor</code></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">if</span> (old_java_vendor</span><br></pre></td></tr></table></figure><ul><li>把判断语句</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (strcmp(old_java_vendor_url_bug , DEFAULT_VENDOR_URL_BUG) !=0) &#123;</span><br></pre></td></tr></table></figure><ul><li>修改为</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (old_java_vendor_url_bug != DEFAULT_VENDOR_URL_BUG) &#123;</span><br></pre></td></tr></table></figure><ol start="2"><li>编辑源码</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim src/hotspot/share/runtime/sharedRuntime.cpp</span><br></pre></td></tr></table></figure><ul><li>搜索<code>buffer.insts()-&gt;initialize_shared_locs((relocInfo*)locs</code>两次</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/buffer.insts()-&gt;initialize_shared_locs((relocInfo*)locs</span><br><span class="line">/buffer.insts()-&gt;initialize_shared_locs((relocInfo*)locs</span><br></pre></td></tr></table></figure><ul><li>把语句</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">buffer.insts()-&gt;initialize_shared_locs((relocInfo*)locs_buf, sizeof(locs_buf) / sizeof(relocInfo));</span><br></pre></td></tr></table></figure><ul><li>修改为</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">buffer.insts()-&gt;initialize_shared_locs((relocInfo*)locs_buf, (sizeof(locs_buf)) / (sizeof(relocInfo)));</span><br></pre></td></tr></table></figure><ol start="3"><li>编辑源码</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim src/java.base/share/native/libfdlibm/e_asin.c</span><br></pre></td></tr></table></figure><ul><li>搜索<code>t =</code></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/t =</span><br></pre></td></tr></table></figure><ul><li>为else添加大括号</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    t = x*x;</span><br><span class="line">    p = t*(pS0+t*(pS1+t*(pS2+t*(pS3+t*(pS4+t*pS5)))));</span><br><span class="line">    q = one+t*(qS1+t*(qS2+t*(qS3+t*qS4)));</span><br><span class="line">    w = p/q;</span><br><span class="line">    <span class="built_in">return</span> x+x*w;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="踩坑-3"><a href="#踩坑-3" class="headerlink" title="踩坑"></a>踩坑</h3><ul><li>报错：<code>if (colorIndex &lt; (useAppleColor) ? sun_lwawt_macosx_LWCToolkit_NUM_APPLE_COLORS : java_awt_SystemColor_NUM_COLORS) {</code></li></ul><h4 id="原因-3"><a href="#原因-3" class="headerlink" title="原因"></a>原因</h4><ul><li>源码BUG</li></ul><h4 id="解决问题-3"><a href="#解决问题-3" class="headerlink" title="解决问题"></a>解决问题</h4><ul><li>编辑源码</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim src/java.desktop/macosx/native/libawt_lwawt/awt/CSystemColors.m</span><br></pre></td></tr></table></figure><ul><li>搜索<code>if (color</code></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">if</span> (color</span><br></pre></td></tr></table></figure><ul><li>把判断语句</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (colorIndex &lt; (useAppleColor) ? sun_lwawt_macosx_LWCToolkit_NUM_APPLE_COLORS : java_awt_SystemColor_NUM_COLORS) &#123;</span><br></pre></td></tr></table></figure><ul><li>改为</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (colorIndex &lt; ((useAppleColor) ? sun_lwawt_macosx_LWCToolkit_NUM_APPLE_COLORS : java_awt_SystemColor_NUM_COLORS)) &#123;</span><br></pre></td></tr></table></figure><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build/macosx-x86_64-normal-server-release/jdk/bin </span><br><span class="line">./java -version</span><br></pre></td></tr></table></figure><p><img src="/images/20201011140803/01.png" alt="01.png"></p><ul><li>以后需要使用自己编译的jdk，只要把<code>build/macosx-x86_64-normal-server-release/images/jdk</code>目录拷贝出来即可</li><li>源码为下载的源码</li></ul><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><ul><li>如果修改源码，需要重新编译，重新编译不需要完整编译，只需要增量编译即可</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make inages</span><br></pre></td></tr></table></figure><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="https://www.bilibili.com/video/BV1zT4y177Zf" target="_blank" rel="noopener">哔哩哔哩——CodeSheep</a><br><a href="https://codingnote.cc/p/234919" target="_blank" rel="noopener">CodingNote.cc的博客</a><br><a href="https://github.com/openjdk/jdk/commit/4622a18a" target="_blank" rel="noopener">Github——Matthias Baesken</a><br><a href="https://blog.csdn.net/qq_17239003/article/details/80001680" target="_blank" rel="noopener">CSDN——武泗海</a><br><a href="https://blog.csdn.net/wd2014610/article/details/81636417" target="_blank" rel="noopener">CSDN——向小凯同学学习</a></p>]]></content:encoded>
      
      <comments>https://feiju12138.github.io/2020/10/11/%E7%BC%96%E8%AF%91JDK%E6%BA%90%E7%A0%81/#disqus_thread</comments>
    </item>
    
    <item>
      <title>【笔记】SpringBoot异常处理类</title>
      <link>https://feiju12138.github.io/2020/10/10/SpringBoot%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%B1%BB/</link>
      <guid>https://feiju12138.github.io/2020/10/10/SpringBoot%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%B1%BB/</guid>
      <pubDate>Sat, 10 Oct 2020 06:26:12 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;一个Controller类可能会有很多方法，每个方法都可能会出现异常，假如每个方法都要进行&lt;code&gt;try catch&lt;/code&gt;，就会有大量的冗余代码，通过的异常处理方法解决问题&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一个Controller类可能会有很多方法，每个方法都可能会出现异常，假如每个方法都要进行<code>try catch</code>，就会有大量的冗余代码，通过的异常处理方法解决问题</p><a id="more"></a><h2 id="局部异常处理"><a href="#局部异常处理" class="headerlink" title="局部异常处理"></a>局部异常处理</h2><ul><li><p>仅处理当前类的所有抛出的异常</p></li><li><p>在Controller类中定义一个通过<code>@ExceptionHandler</code>标注的异常处理方法</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ExceptionHandler</span>(Throwable<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">@<span class="title">ResponseBody</span></span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">String</span> <span class="title">doExceptionHandler</span>(<span class="title">Throwable</span> <span class="title">e</span>) </span>&#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"500"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="全局异常处理"><a href="#全局异常处理" class="headerlink" title="全局异常处理"></a>全局异常处理</h2><ul><li><p>通过异常处理类中的异常处理方法处理全局所有抛出的异常</p></li><li><p>在<code>exception</code>包下创建一个异常处理类<code>GlobalExceptionHandler</code></p></li><li><p>在异常处理类中定义异常处理方法</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(Throwable<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">    <span class="title">public</span> <span class="title">String</span> <span class="title">doExceptionHandler</span>(<span class="title">Throwable</span> <span class="title">e</span>) </span>&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"500"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2>]]></content:encoded>
      
      <comments>https://feiju12138.github.io/2020/10/10/SpringBoot%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%B1%BB/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
