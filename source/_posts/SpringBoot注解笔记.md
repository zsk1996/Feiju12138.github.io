---
title: 【笔记】SpringBoot注解笔记
categories:
  - Java
date: 2020-08-26 17:34:05
---

## 前言

SpringBoot注解知识点笔记

<!-- more -->

## 入口注解

- @SpringBootApplication
- 描述SpringBoot项目的启动类，在类中会定义一个main方法，main方法会在运行时读取配置文件，并且加载指定资源，进行初始化操作

## 定义普通的组件

- @Component
- 可以在业务类中通过@Autowired注解从Bean池中获取并注入对象

## Service

- @Service
- 标注业务层，是一种特殊的@Component

## 注入对象

- @Autowired
- 描述属性，可以从Bean池中获取并注入对象，前提是要求实现的类或继承的类由Spring的组件注解标注
- 描述构造方法可以省略
- 描述set方法，通常配合无参构造
- 有参构造独立使用

### 指定注入对象名

- @Qualifier("")
- 对象名首字母小写
- 不能修饰方法

## 测试类

- @SpringBootTest
- 必须标注在SpringBoot项目的测试类上
- 类中的方法由@Test方法标注，使用Junit进行单元测试

## 延时加载

### 标注在类上

- @Lazy(value=true)
- 简写为@Lazy(true)
- 简写为@Lazy
- 也称为懒加载
- 此注解告诉Spring框架，它描述的类的实例，假如暂时用不到，就不要先创建，当需要调用时再创建
- 只在单例情况下有效

## 单例和多例

- 标注在类上

### 单实例

- 单例@Scope("singleton")
- 单例会将创建的对象放在Bean池中
- 每个类只会创建一个对象，可以反复被调用

### 多实例

- 多例@Scope("prototype")
- 多例在对象使用时创建，使用后销毁
- 多例创建每个类可以创建多个对象
- 这个实例创建以后，不会交给spring管理，spring可以对其初始化，但不负责销毁

## 初始化方法

- @PostConstruct
- 标注在方法上
- 描述的方法会在对象构建以后执行
- 用于执行一些初始化操作

## 结束方法

- @PreDestroy
- 描述的方法会在单例对象销毁之前执行
- 只有在单例上时会生效
- Spring容器会在销毁之前会先将容器（Bean）中的对象移除，在移除之前，假如对象中定义了生命周期销毁方法，此时还会调用对象的生命周期销毁方法（在方法中做一些资源释放操作）

## 未完待更



