---
title: 【笔记】防火墙学习笔记
categories:
  - Linux
date: 2020-04-27 10:45:17
---

## 前言

防火墙学习笔记

<!-- more -->

## 查看防火墙状态

``` sh
firewall-cmd --state
```

## 开启防火墙

``` sh
systemctl start firewalld.service
```

## 关闭防火墙

``` sh
systemctl stop firewalld.service
```

### 重启防火墙

``` sh
systemctl restart iptables.service
```

### 禁止防火墙开机自启

``` sh
systemctl disable firewalld.service
```

### 开启防火墙开机启动

``` sh
systemctl enable iptables.service
```

## 开放指定端口

> `<port>`：想要开放的端口号
> `--zone`：作用域
> `--add-port=80/tcp`：添加端口，格式为：端口/通讯协议
> `--permanent`：永久生效，没有此参数重启后失效


``` sh
firewall-cmd --zone=public --add-port=<port>/tcp --permanent
```

## 重载防火墙配置

``` sh
firewall-cmd --reload
```

## 查看防火墙规则

``` sh
iptables
iptables -L -n
```

## 列出所有支持的zone

``` sh
firewall-cmd --get-zones
```

## 列出支持的服务

- 在列表中的服务是放行的

``` sh
firewall-cmd --get-services
```

## ftp服务

### 查看ftp服务是否支持

``` sh
firewall-cmd --query-service ftp
```

### 临时开放ftp服务

``` sh
firewall-cmd --add-service=ftp
```

### 永久开放ftp服务

``` sh
firewall-cmd --add-service=ftp --permanent
```

### 永久移除ftp服务

``` sh
firewall-cmd --remove-service=ftp --permanent
```

## 参考文献

[CSDN——achang21](https://blog.csdn.net/achang21/article/details/52538049)

