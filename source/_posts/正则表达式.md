---
title: 【笔记】正则表达式
date: 2019-11-24 15:51:46
tags:
---

## 前言

正则表达式，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。[维基百科](https://zh.wikipedia.org/wiki/正则表达式)

<!-- more -->

## 基本语法

### 匹配字符串的开始

``` javascript
^
```

### 匹配字符串的结束

``` javascript
$
```

### 定义一个字符串的字符范围

``` javascript
[]
```

### 任何空白字符

``` javascript
\s
```

### 任何非空白字符

``` javascript
\S
```

### 一个数字字符

- 等价于`[0-9]`

``` javascript
\d
```

### 一个非数字字符

- 等价于`[^0-9]`
`^`代表`排除`

``` javascript
\D
```

### 一个数字、字母、下划线字符

- 等价于`[0-9a-zA-Z_]`

``` javascript
\w
```

### 一个非数字、字母、下划线字符

- 等价于`[^0-9a-zA-Z_]`

``` javascript
\W
```

### 除了换行符之外的任意一个字符

``` javascript
.
```

### 匹配前一项n次

``` javascript
{n}
```

### 匹配前一项n次及以上

``` javascript
{n,}
```

### 匹配前一项至少n次，至多m次

``` javascript
{n,m}
```

### 匹配前一项0次及以上

- 等价于`{0,}`

``` javascript
*
```

### 匹配前一项1次及以上

- 等价于`{1,}`

``` javascript
+
```

### 匹配前一项0次或1次

- 等价于`{0,1}`

``` javascript
?
```

## 常用的正则表达式

### 校验数字的表达式

#### 数字

``` javascript
^[0-9]*$
```

#### n位的数字

``` javascript
^\d{n}$
```

#### 至少n位的数字

``` javascript
^\d{n,}$
```

#### m~n位的数字

``` javascript
^\d{m,n}$
```

#### 0和非0开头的数字

``` javascript
^(0|[1-9][0-9]*)$
```

#### 非0开头的最多带两位小数的数字

``` javascript
^([1-9][0-9]*)+(.[0-9]{1,2})?$
```

#### 带1~2位小数的正数或负数

``` javascript
^(\-)?\d+(\.\d{1,2})?$
```

#### 正数、负数、小数

``` javascript
^(\-|\+)?\d+(\.\d+)?$
```

#### 有两位小数的正实数

``` javascript
^[0-9]+(.[0-9]{2})?$
```

#### 有1~3位小数的正实数

``` javascript
^[0-9]+(.[0-9]{1,3})?$
```

#### 非0的正整数

``` javascript
^[1-9]\d*$
^([1-9][0-9]*){1,3}$
^\+?[1-9][0-9]*$
```

#### 非0的负整数

``` javascript
^\-[1-9][]0-9"*$
^-[1-9]\d*$
```

#### 非负整数

``` javascript
^\d+$
^[1-9]\d*|0$
```

#### 非正整数

``` javascript
^-[1-9]\d*|0$
^((-\d+)|(0+))$
```

#### 非负浮点数

``` javascript
^\d+(\.\d+)?$
^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$
```

#### 非正浮点数

``` javascript
^((-\d+(\.\d+)?)|(0+(\.0+)?))$
^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$
```

#### 正浮点数

``` javascript
^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$
^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$
```

#### 负浮点数

``` javascript
^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$
^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$
```

#### 浮点数

``` javascript
^(-?\d+)(\.\d+)?$
^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$
```

### 校验字符的表达式

#### 汉字

``` javascript
^[\u4e00-\u9fa5]{0,}$
```

#### 英文和数字

``` javascript
^[A-Za-z0-9]+$
^[A-Za-z0-9]{4,40}$
```

#### 长度为3~20的所有字符

``` javascript
^.{3,20}$
```

#### 由26个英文字母组成的字符串

``` javascript
^[A-Za-z]+$
```

#### 由26个大写英文字母组成的字符串

``` javascript
^[A-Z]+$
```

#### 由26个小写英文字母组成的字符串

``` javascript
^[a-z]+$
```

#### 由数字和26个英文字母组成的字符串

``` javascript
^[A-Za-z0-9]+$
```

#### 由数字、26个英文字母或者下划线组成的字符串

``` javascript
^\w+$
^\w{3,20}$
```

#### 中文、英文、数字、下划线

``` javascript
^[\u4E00-\u9FA5A-Za-z0-9_]+$
```

#### 中文、英文、数字，不包括下划线等符号

``` javascript
^[\u4E00-\u9FA5A-Za-z0-9]+$
^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$
```

#### 可以输入含有^%&',;=?$\"等字符

``` javascript
[^%&',;=?$\x22]+
```

#### 禁止输入含有~的字符

``` javascript
[^~\x22]+
```

### 特殊需求表达式

#### Email地址

``` javascript
^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
```

#### 域名

``` javascript
[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?
```

#### InternetURL

``` javascript
^[a-zA-z]+://[^\s]*&
^http://([\w-]+\.)+[\w-]+(/[\w-./?%&=]*)?$
```

#### 手机号码

``` javascript
^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$
```

#### 电话号码

``` javascript
^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$
```

#### 国内电话号码

``` javascript
^\d{3}-\d{8}|\d{4}-\d{7}$
```

#### 身份证号

``` javascript
^\d{15}|\d{18}$
```

#### 短身份证号码

``` javascript
^([0-9]){7,18}(x|X)?$
^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$
```

#### 帐号是否合法

``` javascript
^[a-zA-Z][a-zA-Z0-9_]{4,15}$
```

#### 密码

``` javascript
^[a-zA-Z]\w{5,17}$
```

#### 强密码

``` javascript
^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$
```

#### 日期格式

``` javascript
^\d{4}-\d{1,2}-\d{1,2}
```

#### 一年的12个月

``` javascript
^(0?[1-9]|1[0-2])$
>=1 && <=12
```

#### 一个月的31天

``` javascript
^((0?[1-9])|((1|2)[0-9])|30|31)$
```

#### 钱的输入格式

``` javascript
^[1-9][0-9]*$
^(0|[1-9][0-9]*)$
^(0|-?[1-9][0-9]*)$
^[0-9]+(.[0-9]+)?$
^[0-9]+(.[0-9]{2})?$
^[0-9]+(.[0-9]{1,2})?$
^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$
^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$
```

#### xml文件

``` javascript
^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$
```

#### 中文字符的正则表达式

``` javascript
[\u4e00-\u9fa5]
```

#### 双字节字符

``` javascript
^[\x00-\xff]$
```

#### 空白行的正则表达式

``` javascript
\n\s*\r
```

#### HTML标记的正则表达式

``` javascript
<(\S*?)[^>]*>.*?</\1>|<.*? />
```

#### 首尾空白字符的正则表达式

``` javascript
^\s*|\s*$
(^\s*)|(\s*$)
```

#### 腾讯QQ号

``` javascript
[1-9][0-9]{4,}
```

#### 中国邮政编码

``` javascript
[1-9]\d{5}(?!\d)
```

#### IP地址

``` javascript
\d+\.\d+\.\d+\.\d+
((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))
```

## 参考文献

[QQ群——DT课堂 - 辛末 - 11月新群](https://jq.qq.com/?_wv=1027&k=5cLzPAH)
