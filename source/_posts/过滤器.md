---
title: 【笔记】过滤器
categories:
  - Java
date: 2020-05-14 09:41:49
---

## 前言

Javaweb过滤器（拦截器）学习笔记

<!-- more -->

## 过滤器

### 实现Filter接口

- 实现`javax.servlet.Filter`接口

``` java
public class MyFilter implements Filter {
    ...
}
```

### 重写doFilter方法

``` java
public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws Exception {
    ...
}
```

### 处理结束放行

``` java
chain.doFilter(request, response);
```

### 配置web.xml

- `<url-pattern></url-pattern>`标签为拦截的范围

``` xml
<filter>
    <filter-name>HelloFilter</filter-name>
    <filter-class>com.tedu.servlet.HelloFilter</filter-class>
</filter>
<filter-mapping>
    <filter-name>HelloFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>
```

#### 请求转发也会被过滤

- 向`<filter-mapping></filter-mapping>`内添加

``` xml
<dispatcher>FORWARD</dispatcher>
```

#### 目标重定向也会被过滤

- 向`<filter-mapping></filter-mapping>`内添加

``` xml
<dispatcher>REQUEST</dispatcher>
```

## 过滤器初始化参数

### 配置web.xml

- 在`<filter></filter>`标签内配置

> `<<key>>`：键
> `<<value>>`：值

``` xml
<init-param>
    <param-name><<key>></param-name>
    <param-value><<value>></param-value>
</init-param>
```

### 获取初始化参数

#### 重写`init()`方法

``` java
public void init(FilterConfig filterConfig) throws ServletException {
    ...
}
```

#### 获取初始化参数

- 返回`<<value>>`的值

``` java
filterConfig.getInitParameter("<<key>>");
```

## 完成

## 参考文献

达内教育

